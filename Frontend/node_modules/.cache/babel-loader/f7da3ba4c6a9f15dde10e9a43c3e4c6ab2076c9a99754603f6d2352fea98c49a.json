{"ast":null,"code":"// // src/components/Dashboard.js\n// import React, { useState, useEffect } from 'react';\n// import { useAuth } from '../contexts/AuthContext';\n// import { useNavigate } from 'react-router-dom';\n// import { restaurantApi } from '../api/restaurantApi';\n// // In your Dashboard.js or relevant component\n// import LocationSearch from './LocationSearch';\n\n// // Inside your component's render/return:\n\n// const Dashboard = () => {\n//     const { user, logout } = useAuth();\n//     const navigate = useNavigate();\n//     const [restaurants, setRestaurants] = useState([]);\n//     const [loading, setLoading] = useState(true);\n//     const [error, setError] = useState('');\n//     const [searchTerm, setSearchTerm] = useState('');\n\n//     useEffect(() => {\n//         fetchRestaurants();\n//     }, []);\n\n//     const fetchRestaurants = async () => {\n//         try {\n//             const data = await restaurantApi.getAllRestaurants();\n//             setRestaurants(data);\n//             setError('');\n//         } catch (err) {\n//             setError('Failed to fetch restaurants');\n//             console.error(err);\n//         } finally {\n//             setLoading(false);\n//         }\n//     };\n\n//     const handleSearch = async (e) => {\n//         e.preventDefault();\n//         if (!searchTerm.trim()) {\n//             fetchRestaurants();\n//             return;\n//         }\n\n//         setLoading(true);\n//         try {\n//             const data = await restaurantApi.searchRestaurants(searchTerm);\n//             setRestaurants(data);\n//             setError('');\n//         } catch (err) {\n//             setError('Failed to search restaurants');\n//             console.error(err);\n//         } finally {\n//             setLoading(false);\n//         }\n//     };\n\n//     const handleLogout = () => {\n//         logout();\n//         navigate('/login');\n//     };\n\n//     if (loading) {\n//         return <div className=\"flex justify-center items-center h-screen\">Loading...</div>;\n//     }\n\n//     return (\n\n//         <div className=\"min-h-screen bg-gray-100\">\n// <nav className=\"bg-white shadow-lg\">\n//     <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n//         <div className=\"flex justify-between h-16\">\n//             <div className=\"flex items-center\">\n//                 <h1 className=\"text-xl font-bold\">Restaurant Finder</h1>\n//             </div>\n//             <div className=\"flex items-center space-x-4\">\n//                 <button\n//                     onClick={() => navigate('/location-search')}\n//                     className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\"\n//                 >\n//                     Search by Location\n//                 </button>\n//                 <button\n//                     onClick={handleLogout}\n//                     className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\"\n//                 >\n//                     Logout\n//                 </button>\n//             </div>\n//         </div>\n//     </div>\n// </nav>\n\n//             <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n//                 {/* Search Box */}\n//                 {/* <LocationSearch /> */}\n//                 <div className=\"mb-6\">\n//                     <form onSubmit={handleSearch} className=\"flex gap-4\">\n//                         <input\n//                             type=\"text\"\n//                             value={searchTerm}\n//                             onChange={(e) => setSearchTerm(e.target.value)}\n//                             placeholder=\"Search restaurants by name...\"\n//                             className=\"flex-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n//                         />\n//                         <button\n//                             type=\"submit\"\n//                             className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n//                         >\n//                             Search\n//                         </button>\n//                         {searchTerm && (\n//                             <button\n//                                 type=\"button\"\n//                                 onClick={() => {\n//                                     setSearchTerm('');\n//                                     fetchRestaurants();\n//                                 }}\n//                                 className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n//                             >\n//                                 Clear\n//                             </button>\n//                         )}\n//                     </form>\n//                 </div>\n\n//                 {error && (\n//                     <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n//                         {error}\n//                     </div>\n//                 )}\n\n//                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n//                 {restaurants.map((restaurant) => (\n//     <div key={restaurant.id} className=\"bg-white overflow-hidden shadow rounded-lg\">\n//         <div className=\"px-4 py-5 sm:p-6\">\n//             <h3 className=\"text-lg font-medium text-gray-900\">{restaurant.name}</h3>\n//             <p className=\"mt-1 text-sm text-gray-600\">{restaurant.description}</p>\n//             <div className=\"mt-4\">\n//                 <p className=\"text-sm text-gray-500\">Location: {restaurant.location}</p>\n//                 <p className=\"text-sm text-gray-500\">Cuisine: {restaurant.cuisine}</p>\n//                 <button\n//                     onClick={() => navigate(`/restaurant/${restaurant.id}`)}\n//                     className=\"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors\">\n//                     View Reviews\n//                 </button>\n//             </div>\n//         </div>\n//     </div>\n// ))}\n//                 </div>\n\n//                 {restaurants.length === 0 && !loading && !error && (\n//                     <div className=\"text-center text-gray-500 mt-4\">\n//                         No restaurants found.\n//                     </div>\n//                 )}\n//             </main>\n\n//         </div>\n\n//     );\n// };\n\n// export default Dashboard;","map":{"version":3,"names":[],"sources":["/Users/harshakata/Downloads/restaurant-finder-frontend/src/components/Dashboard.js"],"sourcesContent":["// // src/components/Dashboard.js\n// import React, { useState, useEffect } from 'react';\n// import { useAuth } from '../contexts/AuthContext';\n// import { useNavigate } from 'react-router-dom';\n// import { restaurantApi } from '../api/restaurantApi';\n// // In your Dashboard.js or relevant component\n// import LocationSearch from './LocationSearch';\n\n// // Inside your component's render/return:\n\n// const Dashboard = () => {\n//     const { user, logout } = useAuth();\n//     const navigate = useNavigate();\n//     const [restaurants, setRestaurants] = useState([]);\n//     const [loading, setLoading] = useState(true);\n//     const [error, setError] = useState('');\n//     const [searchTerm, setSearchTerm] = useState('');\n\n//     useEffect(() => {\n//         fetchRestaurants();\n//     }, []);\n\n//     const fetchRestaurants = async () => {\n//         try {\n//             const data = await restaurantApi.getAllRestaurants();\n//             setRestaurants(data);\n//             setError('');\n//         } catch (err) {\n//             setError('Failed to fetch restaurants');\n//             console.error(err);\n//         } finally {\n//             setLoading(false);\n//         }\n//     };\n\n//     const handleSearch = async (e) => {\n//         e.preventDefault();\n//         if (!searchTerm.trim()) {\n//             fetchRestaurants();\n//             return;\n//         }\n        \n//         setLoading(true);\n//         try {\n//             const data = await restaurantApi.searchRestaurants(searchTerm);\n//             setRestaurants(data);\n//             setError('');\n//         } catch (err) {\n//             setError('Failed to search restaurants');\n//             console.error(err);\n//         } finally {\n//             setLoading(false);\n//         }\n//     };\n\n//     const handleLogout = () => {\n//         logout();\n//         navigate('/login');\n//     };\n\n//     if (loading) {\n//         return <div className=\"flex justify-center items-center h-screen\">Loading...</div>;\n//     }\n\n//     return (\n       \n        \n//         <div className=\"min-h-screen bg-gray-100\">\n// <nav className=\"bg-white shadow-lg\">\n//     <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n//         <div className=\"flex justify-between h-16\">\n//             <div className=\"flex items-center\">\n//                 <h1 className=\"text-xl font-bold\">Restaurant Finder</h1>\n//             </div>\n//             <div className=\"flex items-center space-x-4\">\n//                 <button\n//                     onClick={() => navigate('/location-search')}\n//                     className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\"\n//                 >\n//                     Search by Location\n//                 </button>\n//                 <button\n//                     onClick={handleLogout}\n//                     className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\"\n//                 >\n//                     Logout\n//                 </button>\n//             </div>\n//         </div>\n//     </div>\n// </nav>\n\n//             <main className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n//                 {/* Search Box */}\n//                 {/* <LocationSearch /> */}\n//                 <div className=\"mb-6\">\n//                     <form onSubmit={handleSearch} className=\"flex gap-4\">\n//                         <input\n//                             type=\"text\"\n//                             value={searchTerm}\n//                             onChange={(e) => setSearchTerm(e.target.value)}\n//                             placeholder=\"Search restaurants by name...\"\n//                             className=\"flex-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n//                         />\n//                         <button\n//                             type=\"submit\"\n//                             className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n//                         >\n//                             Search\n//                         </button>\n//                         {searchTerm && (\n//                             <button\n//                                 type=\"button\"\n//                                 onClick={() => {\n//                                     setSearchTerm('');\n//                                     fetchRestaurants();\n//                                 }}\n//                                 className=\"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n//                             >\n//                                 Clear\n//                             </button>\n//                         )}\n//                     </form>\n//                 </div>\n\n//                 {error && (\n//                     <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n//                         {error}\n//                     </div>\n//                 )}\n\n//                 <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n//                 {restaurants.map((restaurant) => (\n//     <div key={restaurant.id} className=\"bg-white overflow-hidden shadow rounded-lg\">\n//         <div className=\"px-4 py-5 sm:p-6\">\n//             <h3 className=\"text-lg font-medium text-gray-900\">{restaurant.name}</h3>\n//             <p className=\"mt-1 text-sm text-gray-600\">{restaurant.description}</p>\n//             <div className=\"mt-4\">\n//                 <p className=\"text-sm text-gray-500\">Location: {restaurant.location}</p>\n//                 <p className=\"text-sm text-gray-500\">Cuisine: {restaurant.cuisine}</p>\n//                 <button\n//                     onClick={() => navigate(`/restaurant/${restaurant.id}`)}\n//                     className=\"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors\">\n//                     View Reviews\n//                 </button>\n//             </div>\n//         </div>\n//     </div>\n// ))}\n//                 </div>\n\n//                 {restaurants.length === 0 && !loading && !error && (\n//                     <div className=\"text-center text-gray-500 mt-4\">\n//                         No restaurants found.\n//                     </div>\n//                 )}\n//             </main>\n\n//         </div>\n        \n//     );\n// };\n\n// export default Dashboard;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}